<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>구글 채널 Setup & Reporting</title>
    <!-- React and Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap');
        body { font-family: 'Inter', 'Noto Sans KR', sans-serif; background-color: #f8f9fa; margin: 0; color: #374151; }
        .sidebar-gradient {
            background: linear-gradient(to right, #ea4335 25%, #fbbc05 25% 50%, #34a853 50% 75%, #4285f4 75%);
            height: 120px;
        }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .custom-scrollbar::-webkit-scrollbar { height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #ccc; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #aaa; }
        
        .status-dropdown-enter { animation: slideDown 0.2s ease-out; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        .hot-badge {
            background-color: #ff4d4f;
            color: white;
            font-size: 9px;
            font-weight: 900;
            padding: 1px 5px;
            border-radius: 4px;
            margin-left: 6px;
            animation: pulse-hot 2s infinite;
        }
        @keyframes pulse-hot {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* Home Banner Animation */
        .floating-icon { animation: float 3s ease-in-out infinite; }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .banner-glow {
            background: linear-gradient(135deg, #536dfe 0%, #651fff 50%, #4c1d95 100%);
            box-shadow: inset 0 0 80px rgba(255,255,255,0.1);
        }

        /* Popup Animation */
        .modal-fade-in { animation: modalFadeIn 0.3s ease-out forwards; }
        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body class="overflow-hidden">
    <div id="root" class="flex w-full"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        
        const LucideIcon = ({ name, size = 18, className = "" }) => {
            const iconRef = useRef(null);
            useEffect(() => { if (window.lucide) window.lucide.createIcons(); }, [name]);
            const kebabName = name.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
            return <i data-lucide={kebabName} style={{ width: size, height: size }} className={className}></i>;
        };

        const GoogleIcons = {
            G_Colorful: () => (
                <svg viewBox="0 0 24 24" style={{width: '16px', height: '16px'}}>
                    <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                    <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                    <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z" fill="#FBBC05"/>
                    <path d="M12 5.38c1.62 0 3.06.56 4.21 1.66l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                </svg>
            ),
            YouTube: () => (
                <svg viewBox="0 0 24 24" style={{width: '18px', height: '18px'}}>
                    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z" fill="#FF0000"/>
                </svg>
            ),
            Gmail: () => (
                <svg viewBox="0 0 24 24" style={{width: '18px', height: '18px'}}>
                    <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" fill="#EA4335"/>
                </svg>
            ),
            Maps: () => (
                <svg viewBox="0 0 24 24" style={{width: '18px', height: '18px'}}>
                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="#34A853"/>
                </svg>
            ),
            Sparkle: () => (
                <svg viewBox="0 0 24 24" style={{width: '18px', height: '18px'}}>
                    <path d="M12 2l2.4 7.6L22 12l-7.6 2.4L12 22l-2.4-7.6L2 12l7.6-2.4L12 2z" fill="#4285F4"/>
                </svg>
            )
        };

        const App = () => {
            const [view, setView] = useState('home'); 
            const [pmaxName, setPmaxName] = useState('PMAX 1');
            const [pmaxBudget, setPmaxBudget] = useState(70000);
            const [pmaxActive, setPmaxActive] = useState(false);
            const [images, setImages] = useState([
                { id: 1, url: 'https://images.unsplash.com/photo-1560769629-975ec94e6a86?w=400', selected: true },
                { id: 2, url: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400', selected: true },
                { id: 3, url: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400', selected: false },
            ]);

            const [isExitPopupOpen, setIsExitPopupOpen] = useState(false);
            const [pendingTargetView, setPendingTargetView] = useState(null);

            const requestNavigation = (targetView) => {
                if (view === 'creation') {
                    setPendingTargetView(targetView);
                    setIsExitPopupOpen(true);
                } else {
                    setView(targetView);
                }
            };

            const confirmNavigation = () => {
                if (pendingTargetView) setView(pendingTargetView);
                setIsExitPopupOpen(false);
                setPendingTargetView(null);
            };

            const navigateToCreation = (type = 'new', campaignName = '') => {
                if (type === 'edit') {
                    setPmaxName(campaignName);
                } else {
                    setPmaxName('PMAX 1');
                    setPmaxBudget(70000);
                }
                setView('creation');
            };

            const handleEdit = (name) => navigateToCreation('edit', name);

            return (
                <div className="flex h-screen w-full overflow-hidden text-left">
                    {/* --- EXIT CONFIRMATION POPUP --- */}
                    {isExitPopupOpen && (
                        <div className="fixed inset-0 z-[999] flex items-center justify-center bg-black/50 backdrop-blur-sm">
                            <div className="bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl modal-fade-in text-center mx-4">
                                <div className="bg-yellow-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                                    <LucideIcon name="AlertTriangle" size={32} className="text-yellow-500" />
                                </div>
                                <h2 className="text-xl font-black text-gray-900 mb-3">
                                    마지막 단계가 남았습니다! <br/>
                                    <span className="text-base font-bold text-gray-400">(Just one step left!)</span>
                                </h2>
                                <p className="text-sm text-gray-600 leading-relaxed mb-8">
                                    구글 광고 캠페인을 생성하기까지 마지막 단계만 남았습니다. 지금 그만두시면 상품 홍보 기회를 놓칠 수 있습니다. 정말 그만두시겠습니까? <br/>
                                    <span className="text-xs text-gray-400 mt-1 block text-center">
                                        (You are only one step away from creating a Google Ads campaign. Quitting now may result in missing product promotion opportunities. Are you sure you want to quit?)
                                    </span>
                                </p>
                                <div className="flex gap-3">
                                    <button onClick={() => setIsExitPopupOpen(false)} className="flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl shadow-lg shadow-blue-200 transition active:scale-95">계속하기 (Stay)</button>
                                    <button onClick={confirmNavigation} className="flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl transition active:scale-95">그만두기 (Quit)</button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* --- SIDEBAR --- */}
                    <aside className="w-72 bg-white border-r border-gray-200 flex flex-col shrink-0 text-left">
                        <div className="sidebar-gradient relative">
                            <div className="absolute top-2 right-4 text-white text-[10px] font-bold bg-black bg-opacity-20 px-2 py-1 rounded tracking-tighter uppercase">
                                powered by <span className="font-black text-blue-100">cafe24</span>
                            </div>
                            <div className="absolute -bottom-8 left-1/2 transform -translate-x-1/2">
                                <div className="w-16 h-16 bg-white rounded-full shadow-md flex items-center justify-center border p-1">
                                    <GoogleIcons.G_Colorful />
                                </div>
                            </div>
                        </div>
                        <div className="mt-12 px-6 text-center">
                            <h1 className="text-xl font-bold text-gray-900 font-sans">구글 채널 <span className="text-sm font-normal text-gray-500 block">(Google Channel)</span></h1>
                            <p className="mt-4 text-[11px] text-gray-500 leading-relaxed">
                                구글 서비스에 쇼핑몰을 홍보하여 전 세계<br/>
                                (Promote your shopping mall on Google Services to reach a global audience.)
                            </p>
                            <p className="mt-2 text-[11px] text-gray-500 leading-relaxed font-medium">
                                수십억 명의 온라인 사용자에게 도達하세요.<br/>(Reach billions of online users.)
                            </p>
                        </div>
                        <nav className="mt-8 flex-1">
                            <div className="px-6 py-2 text-[10px] font-black text-gray-400 uppercase tracking-widest">구글 채널 (Google Channel)</div>
                            <ul className="mt-1 space-y-0.5">
                                <li className={`${view === 'home' ? 'bg-blue-50 border-l-4 border-blue-600' : ''}`}>
                                    <a href="#" onClick={() => requestNavigation('home')} className={`flex items-center px-6 py-3 text-sm transition ${view === 'home' ? 'text-blue-600 font-bold' : 'hover:bg-gray-50'}`}>홈 (Home)</a>
                                </li>
                                <li className={`${view === 'settings' ? 'bg-blue-50 border-l-4 border-blue-600' : ''}`}>
                                    <a href="#" onClick={() => requestNavigation('settings')} className={`flex items-center px-6 py-3 text-sm transition ${view === 'settings' ? 'text-blue-600 font-bold' : 'hover:bg-gray-50'}`}>채널 설정 (Settings)</a>
                                </li>
                                <li><a href="#" className="flex items-center px-6 py-3 text-sm hover:bg-gray-50 transition">상품 피드 (Products)</a></li>
                                <li className={`${view === 'reporting' || view === 'creation' ? 'bg-blue-50 border-l-4 border-blue-600' : ''}`}>
                                    <a href="#" onClick={() => requestNavigation('reporting')} className={`flex items-center px-6 py-3 text-sm transition ${view === 'reporting' || view === 'creation' ? 'text-blue-600 font-bold' : 'hover:bg-gray-50'}`}>
                                        쇼핑 캠페인 (Campaign) <span className="hot-badge">HOT</span>
                                    </a>
                                </li>
                                <li><a href="#" className="flex items-center px-6 py-3 text-sm hover:bg-gray-50 transition">자주 묻는 질문 (FAQ)</a></li>
                            </ul>
                        </nav>
                        <div className="p-4 border-t border-gray-50">
                            <div className="bg-white border border-gray-100 rounded-xl p-4 shadow-sm relative overflow-hidden group cursor-pointer hover:border-blue-300 transition-all">
                                <div className="flex items-start gap-3 text-left">
                                    <div className="bg-yellow-50 p-2 rounded-lg text-yellow-500 shadow-sm"><LucideIcon name="ShieldCheck" size={24} /></div>
                                    <div>
                                        <h4 className="text-xs font-bold text-gray-900 leading-tight">이벤트 모니터링 신청 <br/>(Event Monitoring Application)</h4>
                                        <p className="mt-1 text-[10px] text-gray-500 leading-tight">To prevent shopping mall access issues, apply in advance.</p>
                                    </div>
                                </div>
                                <div className="mt-2 text-right"><span className="text-gray-400 text-xs font-black tracking-widest">→</span></div>
                            </div>
                        </div>
                    </aside>

                    {/* --- MAIN CONTENT AREA --- */}
                    <main className="flex-1 overflow-y-auto">
                        {view === 'home' ? (
                            <HomeView onNavigate={() => setView('creation')} />
                        ) : view === 'settings' ? (
                            <SettingsView onNext={() => setView('creation')} />
                        ) : view === 'reporting' ? (
                            <ReportingView onNew={() => navigateToCreation('new')} onEdit={handleEdit} />
                        ) : (
                            <CreationView 
                                onExit={() => requestNavigation('reporting')}
                                pmaxName={pmaxName} setPmaxName={setPmaxName}
                                pmaxBudget={pmaxBudget} setPmaxBudget={setPmaxBudget}
                                pmaxActive={pmaxActive} setPmaxActive={setPmaxActive}
                                images={images}
                            />
                        )}
                    </main>
                </div>
            );
        };

        const HomeView = ({ onNavigate }) => {
            return (
                <div className="p-8 max-w-7xl mx-auto space-y-6 animate-in fade-in duration-300 bg-[#f0f2f5] min-h-full text-left">
                    <div className="relative h-60 rounded-3xl overflow-hidden shadow-xl banner-glow flex items-center px-12 group cursor-pointer" onClick={onNavigate}>
                        <div className="z-10 space-y-3 text-left">
                            <h2 className="text-3xl font-black text-white leading-tight">당신의 상품, <br/>구글의 모든 곳에. <br/><span className="text-lg font-medium opacity-80">(Your products, everywhere on Google.)</span></h2>
                            <button className="bg-white text-indigo-700 px-8 py-3 rounded-full text-sm font-black shadow-lg hover:scale-105 transition-all">구글 채널 시작하기 (Start Google Channel)</button>
                        </div>
                        <div className="absolute right-20 inset-y-0 flex items-center justify-center w-1/2 pointer-events-none">
                            <div className="relative w-56 h-56">
                                <div className="absolute top-0 left-1/2 -translate-x-1/2 floating-icon" style={{animationDelay: '0s'}}><div className="w-12 h-12 bg-white rounded-2xl shadow-xl flex items-center justify-center p-2"><GoogleIcons.YouTube /></div></div>
                                <div className="absolute bottom-0 left-1/2 -translate-x-1/2 floating-icon" style={{animationDelay: '0.5s'}}><div className="w-12 h-12 bg-white rounded-2xl shadow-xl flex items-center justify-center p-2"><GoogleIcons.Gmail /></div></div>
                                <div className="absolute left-0 top-1/2 -translate-y-1/2 floating-icon" style={{animationDelay: '1s'}}><div className="w-12 h-12 bg-white rounded-2xl shadow-xl flex items-center justify-center p-2"><GoogleIcons.G_Colorful /></div></div>
                                <div className="absolute right-0 top-1/2 -translate-y-1/2 floating-icon" style={{animationDelay: '1.5s'}}><div className="w-12 h-12 bg-white rounded-2xl shadow-xl flex items-center justify-center p-2"><GoogleIcons.Maps /></div></div>
                                <div className="absolute inset-0 flex items-center justify-center">
                                    <div className="w-16 h-16 bg-white/20 backdrop-blur-md rounded-full border border-white/30 flex items-center justify-center shadow-inner"><LucideIcon name="ShoppingBag" size={28} className="text-white" /></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="grid grid-cols-12 gap-6">
                        <div className="col-span-8 bg-white rounded-xl border border-gray-200 p-8 flex items-center shadow-sm">
                            <div className="flex items-center gap-6">
                                <div className="w-16 h-16 rounded-full bg-pink-500 flex items-center justify-center text-white text-2xl font-black shadow-inner">C</div>
                                <div className="text-left">
                                    <h3 className="text-lg font-bold text-gray-900">Calvin Shen</h3>
                                    <p className="text-sm text-gray-500">calvinshen.900209@gmail.com</p>
                                </div>
                            </div>
                        </div>
                        <div className="col-span-4 bg-white rounded-xl border border-gray-200 p-8 flex flex-col items-center justify-center shadow-sm relative group">
                            <div className="flex flex-col items-center gap-2">
                                <div className="w-8 h-8"><GoogleIcons.G_Colorful /></div>
                                <span className="text-xs font-black text-gray-400 tracking-tighter uppercase">Google Partner (구글 파트너)</span>
                            </div>
                        </div>

                        <div className="col-span-12 bg-white rounded-2xl border-2 border-indigo-100 shadow-xl overflow-hidden flex">
                            <div className="flex-1 p-10 text-left space-y-6">
                                <div className="space-y-1">
                                    <h3 className="text-xl font-bold text-gray-900 flex items-center gap-2">구글 채널 설정이 아직 완료되지 않았습니다! <span className="text-base font-normal text-gray-400">(Setup is incomplete!)</span></h3>
                                    <p className="text-sm text-gray-500">GMC와 Ads 계정은 연결되었으나, 쇼핑 캠페인을 생성하여 광고를 시작해야 매출이 발생합니다.</p>
                                </div>
                                <div className="flex items-center gap-10">
                                    <div className="flex items-center gap-2 text-emerald-500 font-bold text-sm"><LucideIcon name="CheckCircle2" size={18} /> GMC 연결됨 (GMC Connected)</div>
                                    <div className="flex items-center gap-2 text-emerald-500 font-bold text-sm"><LucideIcon name="CheckCircle2" size={18} /> Ads 연결됨 (Ads Connected)</div>
                                    <div className="flex items-center gap-2 text-red-500 font-black text-sm animate-pulse"><LucideIcon name="AlertCircle" size={18} /> 캠페인 미생성 (Campaign Missing)</div>
                                </div>
                                <div className="h-4 w-full bg-gray-100 rounded-full overflow-hidden p-0.5 border border-gray-200">
                                    <div className="h-full bg-gradient-to-r from-indigo-500 to-blue-500 rounded-full transition-all duration-1000" style={{width: '75%'}}></div>
                                </div>
                                <div className="pt-2 flex items-center gap-6">
                                    <button onClick={onNavigate} className="bg-indigo-600 text-white px-12 py-4 rounded-xl font-black shadow-xl hover:bg-indigo-700 hover:scale-105 transition flex items-center gap-3">
                                        지금 쇼핑 캠페인 생성하기 (Create Campaign Now) <LucideIcon name="ArrowRight" size={20} />
                                    </button>
                                    <div className="flex flex-col text-left">
                                        <span className="text-indigo-600 font-black text-xs">리워드 혜택 (Reward Eligible)</span>
                                        <span className="text-gray-400 text-[10px] font-bold tracking-tight">캠페인 생성 즉시 600,000원 리워드 혜택이 적용됩니다.</span>
                                    </div>
                                </div>
                            </div>
                            <div className="w-[320px] bg-indigo-50/20 flex items-center justify-center p-8 border-l border-indigo-50">
                                <div className="bg-white rounded-2xl p-6 shadow-xl border border-indigo-50 text-center space-y-4" onClick={onNavigate}>
                                    <LucideIcon name="Gift" size={40} className="text-amber-500 mx-auto" />
                                    <div className="space-y-1">
                                        <div className="text-gray-900 text-3xl font-black tracking-tighter">600,000원</div>
                                        <div className="text-indigo-600 text-xs font-bold">광고비 리워드 (Ad Credit Reward)</div>
                                    </div>
                                    <p className="text-[10px] text-gray-400 font-medium">60일 이내 광고 지출 시 <br/>크레딧으로 환급받으세요.</p>
                                </div>
                            </div>
                        </div>

                        <div className="col-span-12 bg-white rounded-xl border border-gray-200 p-10 space-y-8 shadow-sm">
                            <h3 className="text-lg font-bold text-gray-900">상품 피드 현황 (Product feed overview)</h3>
                            <div className="grid grid-cols-3 divide-x divide-gray-100 border-t pt-8">
                                <div className="px-6 space-y-4">
                                    <div className="flex items-center gap-2 text-sm font-bold text-gray-700"><div className="w-2.5 h-2.5 rounded-full bg-emerald-500 shadow-sm shadow-emerald-200"></div> 승인됨 (Approved)</div>
                                    <div className="text-4xl font-black text-gray-900 flex items-center gap-2 hover:text-emerald-600 transition-colors cursor-pointer">0 <LucideIcon name="ChevronRight" size={24} className="text-gray-200" /></div>
                                </div>
                                <div className="px-6 space-y-4">
                                    <div className="flex items-center gap-2 text-sm font-bold text-gray-700"><div className="w-2.5 h-2.5 rounded-full bg-amber-500 shadow-sm shadow-amber-200"></div> 대기 중 (Pending)</div>
                                    <div className="text-4xl font-black text-gray-900 flex items-center gap-2 hover:text-amber-600 transition-colors cursor-pointer">0 <LucideIcon name="ChevronRight" size={24} className="text-gray-200" /></div>
                                </div>
                                <div className="px-6 space-y-4">
                                    <div className="flex items-center gap-2 text-sm font-bold text-gray-700"><div className="w-2.5 h-2.5 rounded-full bg-red-500 shadow-sm shadow-red-200"></div> 비승인됨 (Disapproved)</div>
                                    <div className="text-4xl font-black text-gray-900 flex items-center gap-2 hover:text-red-600 transition-colors cursor-pointer">0 <LucideIcon name="ChevronRight" size={24} className="text-gray-200" /></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const SettingsView = ({ onNext }) => {
            const [conversionOn, setConversionOn] = useState(false);
            const SettingCard = ({ title, englishTitle, children, rightAction, icon }) => (
                <div className="bg-white rounded-lg border border-gray-200 shadow-sm mb-4 overflow-hidden text-left">
                    <div className="px-8 py-6 flex justify-between items-start">
                        <div className="flex-1">
                            <h3 className="text-lg font-bold text-gray-900 mb-4">{title} <span className="text-sm font-normal text-gray-400 ml-1">({englishTitle})</span></h3>
                            <div className="flex items-center gap-2">{icon}{children}</div>
                        </div>
                        {rightAction}
                    </div>
                </div>
            );
            return (
                <div className="p-10 max-w-5xl mx-auto animate-in fade-in duration-300 text-left">
                    <SettingCard title="구글 머천트 센터 요구사항" englishTitle="Google Merchant Center requirements" icon={<div className="bg-emerald-500 rounded-full p-1"><LucideIcon name="Check" size={12} className="text-white" /></div>} rightAction={<button className="text-gray-500 text-sm font-bold flex items-center gap-1">자세히 보기 (View Details) <LucideIcon name="ChevronDown" size={14} /></button>}><p className="text-[15px] font-medium text-gray-800">모든 요구 사항을 충족하였습니다.</p></SettingCard>
                    <SettingCard title="구글 머천트 센터 계정" englishTitle="Google Merchant Center account" icon={<LucideIcon name="Link" size={16} className="text-emerald-500" />} rightAction={<button className="px-4 py-2 border border-gray-300 rounded-md text-sm font-bold shadow-sm">연결 해제 (Disconnect)</button>}><a href="#" className="text-[15px] text-blue-600 font-bold underline">CS'shop - 5549508284</a></SettingCard>
                    <SettingCard title="웹사이트 URL 소유권 확인" englishTitle="Claim website URL" icon={<LucideIcon name="Link" size={16} className="text-emerald-500" />} rightAction={<button className="px-4 py-2 border border-gray-300 rounded-md text-sm font-bold shadow-sm">변경하기 (Change)</button>}><p className="text-[15px] text-gray-800 font-medium">https://sjlee12.cafe24.com</p></SettingCard>
                    <SettingCard title="상품 피드 설정" englishTitle="Product feed settings" rightAction={<button className="text-gray-500 text-sm font-bold flex items-center gap-1">자세히 보기 (View Details) <LucideIcon name="ChevronDown" size={14} /></button>}><p className="text-[15px] text-gray-600">판매 국가와 배송 설정은 자동으로 동기화 됩니다.</p></SettingCard>
                    <SettingCard title="구글 광고 계정" englishTitle="Google Ads account" icon={<LucideIcon name="Link" size={16} className="text-emerald-500" />} rightAction={<button className="px-4 py-2 border border-gray-300 rounded-md text-sm font-bold shadow-sm">연결 해제 (Disconnect)</button>}><a href="#" className="text-[15px] text-blue-600 font-bold underline">KRW Billing 01 - 9350044131</a></SettingCard>
                    <div className="bg-white rounded-lg border border-gray-200 shadow-sm mb-4 overflow-hidden text-left">
                        <div className="px-8 py-6 text-left">
                            <h3 className="text-lg font-bold text-gray-900 mb-2">전환 태그 설정 (Conversion tag settings)</h3>
                            <div className="flex items-center justify-between mt-6">
                                <div className="flex items-center gap-8">
                                    <span className="text-sm font-bold text-gray-900">전환 추적 태그 (Conversion Tracking Tag)</span>
                                    <div className="flex gap-6">
                                        <label className="flex items-center gap-2 cursor-pointer font-black text-sm"><input type="radio" checked={conversionOn} onChange={() => setConversionOn(true)} /> 켜짐 (ON)</label>
                                        <label className="flex items-center gap-2 cursor-pointer font-black text-sm"><input type="radio" checked={!conversionOn} onChange={() => setConversionOn(false)} /> 꺼짐 (OFF)</label>
                                    </div>
                                </div>
                                <button onClick={onNext} className="px-10 py-3 bg-[#4b5563] text-white rounded-md text-sm font-black shadow-md">저장하기 (Save)</button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const ReportingView = ({ onNew, onEdit }) => {
            const [status, setStatus] = useState("활성화 (Enabled)");
            const [isStatusMenuOpen, setIsStatusMenuOpen] = useState(false);
            const [showLearningPopup, setShowLearningPopup] = useState(false);
            const [pendingAction, setPendingAction] = useState("");

            const handleStatusChange = (newStatus) => {
                setIsStatusMenuOpen(false);
                if (newStatus === "Pause" || newStatus === "Delete") {
                    setPendingAction(newStatus);
                    setShowLearningPopup(true);
                } else {
                    setStatus("활성화 (Enabled)");
                }
            };

            const confirmAction = () => {
                setStatus(pendingAction === "Pause" ? "일시중지 (Paused)" : "삭제됨 (Deleted)");
                setShowLearningPopup(false);
            };

            return (
                <div className="p-8 flex flex-col h-full animate-in fade-in duration-300 text-left">
                    {/* Learning Stage Popup */}
                    {showLearningPopup && (
                        <div className="fixed inset-0 z-[1000] flex items-center justify-center bg-black/50 backdrop-blur-sm">
                            <div className="bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl modal-fade-in text-center mx-4">
                                <div className="bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                                    <LucideIcon name="Lightbulb" size={32} className="text-blue-500" />
                                </div>
                                <h2 className="text-xl font-black text-gray-900 mb-4">
                                    아직 학습 단계입니다! <br/>
                                    <span className="text-base font-bold text-gray-400">(Learning in progress!)</span>
                                </h2>
                                <p className="text-sm text-gray-600 leading-relaxed mb-8">
                                    구글 AI가 전환 데이터를 축적하고 최적의 성과를 내기 위해서는 최소 30일의 학습 시간이 필요합니다. 캠페인을 조기에 종료하지 않는 것을 강력히 권장합니다. <br/><br/>
                                    <b>"귀하의 캠페인은 아직 학습 단계에 있습니다. 최적의 결과를 얻으려면 최소 1개월의 시간을 주십시오. 그래도 일시중지/삭제하시겠습니까?"</b>
                                    <span className="text-xs text-gray-400 mt-4 block">
                                        (Your campaign is still at the learning stage, please give it at least 1 month so it can learn to optimize for the best. Do you still want to pause / delete it?)
                                    </span>
                                </p>
                                <div className="flex flex-col gap-3">
                                    <button onClick={() => setShowLearningPopup(false)} className="w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl shadow-lg transition active:scale-95">캠페인 유지하기 (Keep the campaign)</button>
                                    <button onClick={confirmAction} className="w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl transition active:scale-95">확인 (Confirm)</button>
                                </div>
                            </div>
                        </div>
                    )}

                    <div className="flex justify-between items-start mb-6">
                        <div>
                            <h2 className="text-2xl font-bold text-gray-900 flex items-center gap-2">쇼핑 캠페인 <span className="text-sm font-normal text-gray-500 mt-1">캠페인 성과 집계 기준 : 지난 30일</span></h2>
                            <p className="text-sm text-gray-500">(Shopping Campaign Performance Calculation Basis: Last 30 days)</p>
                        </div>
                        <button onClick={onNew} className="bg-[#0050ff] text-white px-5 py-2.5 rounded-lg text-sm font-bold shadow-md flex items-center gap-2"><LucideIcon name="Plus" size={16} /> 새 캠페인 (New Campaign)</button>
                    </div>

                    <div className="bg-white border border-gray-200 rounded-xl shadow-sm flex flex-col flex-1 overflow-hidden">
                        {/* Action Bar */}
                        <div className="p-4 border-b border-gray-100 flex items-center gap-4">
                            <button className="px-4 py-2 border border-gray-200 rounded text-sm text-gray-400 font-bold bg-gray-50 cursor-not-allowed">선택 삭제 (DELETE SELECTION)</button>
                            <div className="ml-auto relative flex items-center gap-2">
                                <LucideIcon name="Search" size={16} className="absolute left-3 text-gray-400" />
                                <input type="text" placeholder="캠페인 이름으로 검색 (Search by Campaign Name)" className="pl-10 pr-4 py-2 border border-gray-200 rounded text-sm w-80 outline-none focus:ring-1 focus:ring-blue-500" />
                            </div>
                        </div>

                        <div className="flex-1 overflow-x-auto custom-scrollbar">
                            <table className="w-full text-left border-collapse min-w-[1200px]">
                                <thead className="bg-gray-50 text-[11px] font-black text-gray-400 uppercase tracking-widest border-b">
                                    <tr>
                                        <th className="p-4 w-12 text-center"><input type="checkbox" className="rounded" /></th>
                                        <th className="p-4 w-96 text-left">캠페인 이름 (CAMPAIGN NAME)</th>
                                        <th className="p-4 w-48 text-center">상태 (STATUS)</th>
                                        <th className="p-4 text-right">비용 (COST)</th>
                                        <th className="p-4 text-right">노출수 (IMP)</th>
                                        <th className="p-4 text-right">클릭수 (CLICKS)</th>
                                        <th className="p-4 w-32 text-center sticky right-0 bg-gray-50 border-l shadow-inner">작업 (ACTION)</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y text-sm font-medium">
                                    <tr className="hover:bg-blue-50/20 transition group">
                                        <td className="p-4 text-center"><input type="checkbox" className="rounded border-gray-300 shadow-sm" /></td>
                                        <td className="p-4">
                                            <div className="font-bold text-gray-900 text-[14px]">PMAX 1</div>
                                            <p className="text-[11px] text-gray-400 font-normal leading-relaxed mt-1">
                                                추가 광고 소재를 수동으로 등록하시려면 다음으로 이동하세요. (To manually add more ad assets, please go to) <a href="https://ads.google.com" className="text-blue-500 underline">Google Ads Frontend</a>
                                            </p>
                                        </td>
                                        <td className="p-4 text-center">
                                            <div className="relative inline-block">
                                                <button 
                                                    onClick={() => setIsStatusMenuOpen(!isStatusMenuOpen)}
                                                    className="inline-flex items-center gap-1.5 px-3 py-1.5 border border-gray-200 rounded-full bg-white text-[11px] font-black min-w-[130px] shadow-sm hover:border-blue-400 transition"
                                                >
                                                    <span className={`w-1.5 h-1.5 rounded-full ${status.includes('활성화') ? 'bg-green-500 animate-pulse' : 'bg-gray-400'}`}></span> 
                                                    {status} <LucideIcon name="ChevronDown" size={12} className="ml-auto" />
                                                </button>
                                                {isStatusMenuOpen && (
                                                    <div className="absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-xl z-50 text-left overflow-hidden status-dropdown-enter">
                                                        <button onClick={() => handleStatusChange("Enable")} className="w-full px-4 py-2.5 text-[11px] font-bold text-gray-700 hover:bg-blue-50 flex items-center gap-2">
                                                            <div className="w-1.5 h-1.5 bg-green-500 rounded-full"></div> 활성화 (Enable)
                                                        </button>
                                                        <button onClick={() => handleStatusChange("Pause")} className="w-full px-4 py-2.5 text-[11px] font-bold text-gray-700 hover:bg-orange-50 flex items-center gap-2 border-t border-gray-50">
                                                            <div className="w-1.5 h-1.5 bg-orange-400 rounded-full"></div> 일시중지 (Pause)
                                                        </button>
                                                        <button onClick={() => handleStatusChange("Delete")} className="w-full px-4 py-2.5 text-[11px] font-bold text-red-500 hover:bg-red-50 flex items-center gap-2 border-t border-gray-50">
                                                            <div className="w-1.5 h-1.5 bg-red-500 rounded-full"></div> 삭제 (Delete)
                                                        </button>
                                                    </div>
                                                )}
                                            </div>
                                        </td>
                                        <td className="p-4 text-right text-gray-900 font-bold">₩145,000</td>
                                        <td className="p-4 text-right text-gray-500">24,512</td>
                                        <td className="p-4 text-right text-gray-500">1,102</td>
                                        <td className="p-4 text-center sticky right-0 bg-white group-hover:bg-blue-50/20 border-l shadow-inner">
                                            <button onClick={() => onEdit("PMAX 1")} className="text-[#0050ff] font-black px-4 py-1.5 rounded text-[13px] hover:bg-blue-100 transition">편집 (Edit)</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        {/* Footer Banner */}
                        <div className="p-4 bg-blue-50 border-t border-blue-100 flex items-start gap-3">
                            <div className="bg-blue-500 rounded-full p-1 mt-0.5"><LucideIcon name="Info" size={12} className="text-white" /></div>
                            <div className="text-[11px] leading-relaxed font-medium text-blue-900">
                                <p className="font-bold underline decoration-blue-200 underline-offset-2">구글 채널에서 생성한 캠페인 리스트입니다. (List of campaigns created on the Google channel.)</p>
                                <p className="mt-1 opacity-80">구글 채널 외부에서 생성한 캠페인 리스트 전체는 Google Ads 에서 확인하실 수 있습니다.</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const CreationView = (props) => {
            const [loadingPmax, setLoadingPmax] = useState(false);
            const [errors, setErrors] = useState({});

            const handlePmaxSubmit = () => {
                const newErrors = {};
                if (!props.pmaxName.trim()) {
                    newErrors.name = "캠페인 이름을 입력해주세요. (Please enter campaign name.)";
                }
                if (!props.pmaxBudget || Number(props.pmaxBudget) < 15000) {
                    newErrors.budget = "최소 예산(15,000원)보다 높은 금액을 입력해주세요. (Please enter a higher budget than 15,000)";
                }
                
                if (Object.keys(newErrors).length > 0) {
                    setErrors(newErrors);
                    return;
                }
                setErrors({});
                setLoadingPmax(true);
                setTimeout(() => { setLoadingPmax(false); props.setPmaxActive(true); }, 1000);
            };

            const getBudgetFooter = () => {
                const budgetNum = Number(props.pmaxBudget);
                if (!props.pmaxBudget || budgetNum < 15000) {
                    return <div className="mt-2 text-[10px] font-bold tracking-tight text-red-500">최소 예산(15,000원)보다 높은 금액을 입력해주세요. <span className="opacity-80">(Please enter a higher budget than 15,000)</span></div>;
                } else if (budgetNum < 70000) {
                    return <div className="mt-2 text-[10px] font-bold tracking-tight text-yellow-600">권장 예산보다 낮은 금액은 광고 성과를 낮출 수 있습니다. <span className="opacity-80">(Budget less than this might lower your performance;)</span></div>;
                }
                return <div className="flex justify-between mt-2 text-[10px] font-bold tracking-tight uppercase text-gray-400"><span>최소(Min): ₩15,000</span><span className="text-blue-600">권장(Recommended): ₩70,000</span></div>;
            };

            return (
                <div className="flex flex-col animate-in slide-in-from-right-4 duration-300 text-left bg-white">
                    <div className="bg-white border-b border-gray-100 px-10 py-5 sticky top-0 z-[55] flex items-center gap-10">
                        <button onClick={props.onExit} className="text-xl font-bold text-gray-400 hover:text-blue-600 transition flex items-center gap-2 group">
                            기존 캠페인 <span className="font-normal text-base">(Existing Campaigns)</span>
                            <LucideIcon name="ChevronRight" size={18} className="group-hover:translate-x-1 transition" />
                        </button>
                        <div className="h-6 w-[1px] bg-gray-200"></div>
                        <h1 className="text-xl font-black text-gray-800 uppercase tracking-tight">새 캠페인 생성 <span className="font-normal text-base text-gray-400 ml-1">(Create New Campaign)</span></h1>
                    </div>

                    <header className="bg-[#0050ff] text-white relative overflow-hidden h-[220px]">
                        <div className="max-w-7xl mx-auto px-10 h-full flex items-center relative z-10">
                            <div className="flex-1 space-y-4 text-left">
                                <h1 className="text-3xl font-black leading-tight tracking-tight">구글 광고로 더 많은 매출을 창출하세요<br/><span className="text-lg opacity-80 font-bold tracking-tight">(Drive more sales with Google Ads)</span></h1>
                                <div className="flex items-center gap-3 pt-2">
                                    <div className="bg-white p-2 rounded shadow-sm flex items-center justify-center"><GoogleIcons.G_Colorful /></div>
                                    <div className="text-sm font-bold text-left tracking-tight">Google for <span className="opacity-80 font-black">Cafe24</span></div>
                                </div>
                            </div>
                        </div>
                    </header>

                    <main className="max-w-7xl mx-auto px-10 space-y-12 py-12 pb-20 text-left">
                        <section className={`relative transition-all duration-500 ${props.pmaxActive ? 'pointer-events-none opacity-60 scale-[0.99]' : ''}`}>
                            <div className="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden grid grid-cols-10 min-h-[480px]">
                                <div className="col-span-6 p-10 space-y-8 border-r border-gray-50 text-left">
                                    <div className="space-y-1.5 text-left"><h2 className="text-lg font-bold text-[#0050ff] uppercase flex items-center gap-2 text-left"><LucideIcon name="Zap" className="text-blue-600" /> 퍼포먼스 최대화 캠페인 (Performance Max)</h2></div>
                                    <div className="grid md:grid-cols-2 gap-8 text-left">
                                        <div className="w-full text-left">
                                            <label className="block text-[10px] font-black mb-2 text-gray-400 tracking-widest uppercase">캠페인 이름 (Campaign Name)</label>
                                            <input type="text" value={props.pmaxName} onChange={(e) => props.setPmaxName(e.target.value)} maxLength={255} className={`w-full px-4 py-3 border rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none transition-all ${errors.name ? 'border-red-500' : 'border-gray-300'} font-bold text-sm`} />
                                            {errors.name && <div className="mt-2 text-[10px] font-bold text-red-500">{errors.name}</div>}
                                            {!errors.name && <div className="text-[10px] text-gray-400 mt-1 font-bold">최대 255자 (Max 255 characters) : {props.pmaxName.length}/255</div>}
                                        </div>
                                        <div className="w-full text-left">
                                            <label className="block text-[10px] font-black mb-2 text-gray-400 tracking-widest uppercase">일일 예산 (Daily Budget)</label>
                                            <div className="relative">
                                                <span className="absolute left-4 top-[13px] text-gray-400 font-bold text-sm">₩</span>
                                                <input type="number" value={props.pmaxBudget} onChange={(e) => props.setPmaxBudget(e.target.value)} className={`w-full pl-8 pr-4 py-3 border rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none transition-all ${Number(props.pmaxBudget) < 15000 ? 'border-red-500' : 'border-gray-300'} font-bold text-sm`} />
                                            </div>
                                            {getBudgetFooter()}
                                        </div>
                                    </div>

                                    {/* Video Assets Section (New - based on image 1) */}
                                    <div className="space-y-4 pt-4">
                                        <div className="text-[11px] font-black text-gray-400 tracking-widest uppercase">동영상 에셋 (VIDEO ASSETS) 0/5</div>
                                        <div className="relative">
                                            <div className="w-full px-5 py-4 border border-gray-200 rounded-2xl flex justify-between items-center cursor-pointer hover:border-blue-400 transition shadow-sm">
                                                <span className="text-sm font-bold text-gray-700">동영상 선택 (Select Videos)</span>
                                                <LucideIcon name="ChevronDown" size={20} className="text-gray-400" />
                                            </div>
                                        </div>
                                        <div className="bg-blue-50/70 border border-blue-100 rounded-2xl p-6 text-left shadow-sm">
                                            <h4 className="text-blue-900 font-black text-sm mb-2">유튜브 동영상 에셋 (Video Assets on YouTube)</h4>
                                            <p className="text-[12px] text-blue-700 font-bold leading-relaxed">
                                                동영상이 없으면 구글 AI가 자동 생성합니다. <br/>
                                                <span className="opacity-80 font-medium">(Google AI will automatically generate a video if none is provided.)</span>
                                            </p>
                                        </div>
                                    </div>

                                    <div className="bg-blue-50/50 p-5 rounded-xl border border-blue-100 text-[12px] text-blue-900 font-bold italic leading-relaxed shadow-sm">구글 AI가 모든 상품을 분석하여 전 채널에 광고를 자동 노출합니다. 수동 설정이 필요 없습니다. <br/>(Google AI analyzes all products and automatically displays ads across all channels. No manual setup required.)</div>
                                    <div className="pt-8 flex items-center justify-between border-t border-gray-100">
                                        <a href="#" className="text-gray-400 font-black text-[11px] uppercase tracking-tight flex items-center gap-1.5 hover:text-blue-600 transition-colors"><LucideIcon name="ExternalLink" size={12} /> 퍼포먼스 최대화 캠페인 도움말 (Performance Max Help)</a>
                                        <button onClick={handlePmaxSubmit} className={`px-10 py-3.5 rounded-xl font-black text-xs transition-all shadow-xl min-w-[240px] ${props.pmaxActive ? 'bg-gray-200 text-gray-400 shadow-none' : 'bg-[#0050ff] text-white hover:bg-blue-700 active:scale-95'}`}>
                                            {loadingPmax ? "Processing..." : props.pmaxActive ? "제출 완료 (Submitted)" : "캠페인 제출하기 (Submit Campaign)"}
                                        </button>
                                    </div>
                                </div>
                                <div className="col-span-4 bg-[#f1f3f4] p-10 flex flex-col items-center justify-center border-l border-gray-100 text-left">
                                    <div className="w-full max-w-[240px] bg-white rounded-[32px] border-[6px] border-gray-800 shadow-2xl aspect-[9/18] overflow-hidden flex flex-col shrink-0">
                                        <div className="px-4 py-3 border-b border-gray-50 flex items-center gap-2"><GoogleIcons.G_Colorful /><div className="h-1.5 bg-gray-100 rounded-full w-20"></div></div>
                                        <div className="p-3 bg-gray-50 flex-1 space-y-3">
                                            <div className="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden">
                                                <div className="aspect-square relative"><img src={props.images[0].url} className="w-full h-full object-cover" /><div className="absolute top-1 left-1 bg-white/90 text-[7px] font-black px-1 rounded shadow-sm border border-gray-100">Sponsored</div></div>
                                                <div className="p-2 space-y-1">
                                                    <div className="text-[10px] font-bold text-gray-900 leading-tight">Comfort Sneakers - Limited Edition</div>
                                                    <div className="flex items-center gap-1"><span className="text-[10px] font-black text-gray-900">₩70,000</span></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <p className="mt-4 text-[9px] font-black text-gray-400 uppercase tracking-widest text-center">Performance Max Preview</p>
                                </div>
                            </div>
                        </section>
                    </main>
                </div>
            );
        };

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>